var D=(e,n,l)=>new Promise((f,a)=>{var p=o=>{try{i(l.next(o))}catch(c){a(c)}},t=o=>{try{i(l.throw(o))}catch(c){a(c)}},i=o=>o.done?f(o.value):Promise.resolve(o.value).then(p,t);i((l=l.apply(e,n)).next())});import{c as R,j as s}from"./index-DzfYAV6B.js";import{e as j,u as E,d as A,r as v,L as _}from"./router-vendor-nz_fvPt4.js";import{l as U}from"./logo-sm-CwMTbstP.js";import{s as V}from"./success-Ccv7FGmV.js";import{F as b,f as y,a as S,b as C}from"./icon-vendor-Y_MkwwPz.js";import{F as P,c as T,a as q,b as N,d as h,e as O}from"./form-vendor-Dg3nlvAA.js";import{S as F}from"./notification-vendor-CcIVbC0l.js";import{a as B}from"./index-Cfc3znND.js";import{A as L}from"./config-B3zyxP14.js";import{s as x}from"./sweetalert.min-lO4u0SoP.js";import"./react-vendor-DCaiJ6vv.js";import"./query-vendor-VOXR0irk.js";import"./ui-vendor-DQeT9Y3U.js";const r=B.create({baseURL:L,timeout:1e4,headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{const n=localStorage.getItem("access_token");return n&&(e.headers.Authorization=`Bearer ${n}`),e},e=>Promise.reject(e));r.interceptors.response.use(e=>e,e=>{var n;return((n=e.response)==null?void 0:n.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/signin"),Promise.reject(e)});const I={login:e=>r.post("/accountsapp/login-simple",e),signup:e=>r.post("/accountsapp/signup",e),logout:()=>r.post("/accountsapp/logout"),verifyEmail:e=>r.post("/accountsapp/verify-email",e),forgotPassword:e=>r.post("/accountsapp/forgot-password",{email:e}),resetPassword:e=>r.post("/accountsapp/reset-password",e),getAllJobs:()=>r.get("/jobs/all/"),createJob:e=>r.post("/jobs/create/",e),getJobDetail:e=>r.get(`/jobs/${e}/`),applyToJob:(e,n)=>r.post(`/jobs/${e}/apply/`,n),saveJob:e=>r.post("/jobs/save/",e),getSavedJobs:()=>r.get("/jobs/saved/"),getAllUsers:()=>r.get("/jobs/all-users/"),getUserProfile:()=>r.get("/accountsapp/profile/"),updateProfile:e=>r.put("/accountsapp/profile/update/",e),getApplications:()=>r.get("/jobs/applications/"),updateApplicationStatus:(e,n)=>r.patch(`/jobs/applications/${e}/status/`,{status:n}),getPayments:()=>r.get("/payment/"),getPaymentMethods:()=>r.get("/payment/methods/"),getNotifications:()=>r.get("/notifications/"),markNotificationRead:e=>r.patch(`/notifications/${e}/read/`),get:e=>r.get(e),post:(e,n)=>r.post(e,n),put:(e,n)=>r.put(e,n),patch:(e,n)=>r.patch(e,n),delete:e=>r.delete(e)},k=[{key:"title",getter:e=>e.getTitle()},{key:"html",getter:e=>e.getHtmlContainer()},{key:"confirmButtonText",getter:e=>e.getConfirmButton()},{key:"denyButtonText",getter:e=>e.getDenyButton()},{key:"cancelButtonText",getter:e=>e.getCancelButton()},{key:"footer",getter:e=>e.getFooter()},{key:"closeButtonHtml",getter:e=>e.getCloseButton()},{key:"iconHtml",getter:e=>e.getIconContent()},{key:"loaderHtml",getter:e=>e.getLoader()}],w=()=>{};function $(e){function n(a){const p={},t={},i=k.map(o=>o.key);return Object.entries(a).forEach(o=>{let[c,d]=o;i.includes(c)&&j.isValidElement(d)?(p[c]=d,t[c]=" "):t[c]=d}),[p,t]}function l(a,p){Object.entries(p).forEach(t=>{let[i,o]=t;const d=k.find(m=>m.key===i).getter(e),u=R.createRoot(d);u.render(o),a.__roots.push(u)})}function f(a){a.__roots.forEach(p=>{p.unmount()}),a.__roots=[]}return class extends e{static argsToParams(a){if(j.isValidElement(a[0])||j.isValidElement(a[1])){const p={};return["title","html","icon"].forEach((t,i)=>{a[i]!==void 0&&(p[t]=a[i])}),p}else return e.argsToParams(a)}_main(a,p){this.__roots=[],this.__params=Object.assign({},p,a);const[t,i]=n(this.__params),o=i.willOpen||w,c=i.didOpen||w,d=i.didDestroy||w;return super._main(Object.assign({},i,{willOpen:u=>{l(this,t),o(u)},didOpen:u=>{setTimeout(()=>{c(u)})},didDestroy:u=>{d(u),f(this)}}))}update(a){Object.assign(this.__params,a),f(this);const[p,t]=n(this.__params);super.update(t),l(this,p)}}}const M=$(F),J=T().shape({firstName:h().required("Required").min(2,"Too short!").required("Required"),lastName:h().required("Required").min(2,"Too short!").required("Required"),email:h().email("Invalid email").required("Required"),password:h().min(6,"Must Contain 8 Characters").max(50,"Too Long!").required("Required").matches(/^(?=.*[a-z])/,"Must Contain One Lowercase Character").matches(/^(?=.*[A-Z])/,"Must Contain One Uppercase Character").matches(/^(?=.*[0-9])/,"Must Contain One Number Character").matches(/^(?=.*[!@#\$%\^&\*])/,"Must Contain  One Special Case Character"),confirmPassword:h().min(6,"Too Short!").max(50,"Too Long!").required("Required").oneOf([O("password"),null],"Passwords must match")}),ae=()=>{let e=E();const n=A();let[l,f]=v.useState("password"),[a,p]=v.useState("password");return s.jsxDEV("div",{className:"row m-0 px-2 signup_wrapper animate__animated animate__fadeIn",children:s.jsxDEV("div",{className:"col-12 col-md-4 main-card animate__animated animate__zoomIn",children:[s.jsxDEV("div",{className:"col-12 bg-card-2"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:50,columnNumber:9},void 0),s.jsxDEV("div",{className:"col-12 bg-card-3"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:51,columnNumber:9},void 0),s.jsxDEV("div",{className:"bg-card",children:[s.jsxDEV("div",{},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:53,columnNumber:11},void 0),s.jsxDEV("div",{className:"row",children:[s.jsxDEV("div",{className:"col-3",children:s.jsxDEV(_,{to:"/welcome",className:"text-dark",children:s.jsxDEV(b,{icon:y},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:60,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:59,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:58,columnNumber:13},void 0),s.jsxDEV("div",{className:"col-6 text-center",children:s.jsxDEV("img",{src:U,className:"brand-logo ms-2",alt:"Paeshift logo"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:64,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:63,columnNumber:13},void 0),s.jsxDEV("div",{className:"col-3"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:66,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:57,columnNumber:11},void 0),s.jsxDEV("div",{className:"row content",children:s.jsxDEV("div",{className:"col-12",children:s.jsxDEV("div",{className:"title",children:[s.jsxDEV("h3",{children:"Sign Up"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:71,columnNumber:17},void 0),s.jsxDEV("p",{children:"Kindly provide us with your details to create new account"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:72,columnNumber:17},void 0),s.jsxDEV(P,{initialValues:{firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:""},validationSchema:J,onSubmit:t=>D(null,null,function*(){var o,c,d,u;let i={first_name:t.firstName,last_name:t.lastName,email:t.email,role:n.role,password:t.confirmPassword};console.log(i);try{const m=yield I.signup(i);console.log("Signup response:",m.data),m.data.requires_verification?(M.fire({title:"Account created successfully. Please verify your email.",imageUrl:V,imageWidth:80,imageHeight:80,imageAlt:"Success",showConfirmButton:!1,timer:2e3,customClass:{image:"swal-custom-image"}}),setTimeout(()=>{e("/verify",{state:{email:t.email,verificationType:m.data.verification_type||"registration"}})},2e3)):m.data.message==="success"?(x("Registration Successful!"," ","success",{button:!1,timer:1500}),setTimeout(()=>{e("../signin")},1500)):x("Registration Failed!",m.data.error||"Something went wrong","error")}catch(m){console.error("Signup error:",m);let g="Network error occurred";(c=(o=m.response)==null?void 0:o.data)!=null&&c.error?g=m.response.data.error:(u=(d=m.response)==null?void 0:d.data)!=null&&u.message?g=m.response.data.message:m.message&&(g=m.message),x("Registration Failed!",g,"error")}}),children:({errors:t,touched:i})=>s.jsxDEV(q,{className:"signup_form",children:[s.jsxDEV("div",{children:[s.jsxDEV("label",{htmlFor:"firstName",className:"form-label mb-0",children:"First Name:"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:158,columnNumber:25},void 0),s.jsxDEV(N,{name:"firstName",className:"form-control"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:159,columnNumber:25},void 0),i.firstName&&t.firstName&&s.jsxDEV("div",{className:"errors",children:t.firstName},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:161,columnNumber:68},void 0)]},void 0,!0,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:157,columnNumber:23},void 0),s.jsxDEV("div",{children:[s.jsxDEV("label",{htmlFor:"lastName",className:"form-label mb-0",children:"Last Name:"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:164,columnNumber:25},void 0),s.jsxDEV(N,{name:"lastName",className:"form-control"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:165,columnNumber:25},void 0),i.lastName&&t.lastName&&s.jsxDEV("div",{className:"errors",children:t.lastName},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:166,columnNumber:66},void 0)]},void 0,!0,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:163,columnNumber:23},void 0),s.jsxDEV("div",{children:[s.jsxDEV("label",{htmlFor:"email",className:"form-label mb-0",children:"Email:"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:169,columnNumber:25},void 0),s.jsxDEV(N,{name:"email",className:"form-control"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:170,columnNumber:25},void 0),i.email&&t.email&&s.jsxDEV("div",{className:"errors",children:t.email},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:171,columnNumber:60},void 0)]},void 0,!0,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:168,columnNumber:23},void 0),s.jsxDEV("div",{children:[s.jsxDEV("label",{htmlFor:"password",className:"form-label mb-0",children:"Create Password:"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:174,columnNumber:25},void 0),s.jsxDEV("span",{className:"visibility",children:[s.jsxDEV(N,{type:l,name:"password",id:"password",className:"form-control"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:176,columnNumber:27},void 0),s.jsxDEV(b,{icon:l==="password"?S:C,onClick:()=>f(l==="password"?"text":"password"),className:"eye-icon"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:177,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:175,columnNumber:25},void 0),i.password&&t.password&&s.jsxDEV("div",{className:"errors",children:t.password},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:179,columnNumber:66},void 0)]},void 0,!0,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:173,columnNumber:23},void 0),s.jsxDEV("div",{children:[s.jsxDEV("label",{htmlFor:"confrimPassword",className:"form-label mb-0",children:"Confirm Password:"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:182,columnNumber:25},void 0),s.jsxDEV("span",{className:"visibility",children:[s.jsxDEV(N,{type:a,name:"confirmPassword",id:"confirmPassword",className:"form-control"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:184,columnNumber:27},void 0),s.jsxDEV(b,{icon:a==="password"?S:C,onClick:()=>p(a==="password"?"text":"password"),className:"eye-icon"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:185,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:183,columnNumber:25},void 0),i.confirmPassword&&t.confirmPassword&&s.jsxDEV("div",{className:"errors",children:t.confirmPassword},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:187,columnNumber:80},void 0)]},void 0,!0,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:181,columnNumber:23},void 0),s.jsxDEV("button",{type:"submit",name:"submit",className:"btn primary-btn w-100 mt-2",children:"Sign Up"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:189,columnNumber:23},void 0),s.jsxDEV("p",{className:"mt-3",children:["Already have an account? ",s.jsxDEV(_,{to:"/signin",children:"Login"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:190,columnNumber:68},void 0)]},void 0,!0,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:190,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:156,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:73,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:70,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:69,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:68,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:52,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:49,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/AppSignup.jsx",lineNumber:48,columnNumber:5},void 0)};export{ae as default};
