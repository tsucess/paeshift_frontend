import{r as t,e as K}from"./router-vendor-nz_fvPt4.js";function Y(){return(Y=Object.assign||function(e){for(var f=1;f<arguments.length;f++){var l=arguments[f];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(e[v]=l[v])}return e}).apply(this,arguments)}function ce(e,f){(f==null||f>e.length)&&(f=e.length);for(var l=0,v=new Array(f);l<f;l++)v[l]=e[l];return v}var re=window;t.memo(function(e){var f=e.state,l=f===void 0?"":f,v=e.client_id,E=e.className,w=e.redirect_uri,C=e.scope,b=C===void 0?"profile":C,T=e.isOnlyGetToken,g=T!==void 0&&T,j=e.scope_data,R=j===void 0?{profile:{essential:!0}}:j,P=e.response_type,I=P===void 0?"token":P,A=e.children,c=e.onReject,d=e.onResolve,a=e.onLoginStart,u=t.useRef(null),m=t.useState(!1),N=m[0],_=m[1];t.useEffect(function(){!N&&r()},[N]),t.useEffect(function(){return function(){u.current&&u.current.remove()}},[]);var k=t.useCallback(function(){return!!document.getElementById("amazon-login")},[]),s=t.useCallback(function(p,y,F,Q,S){y===void 0&&(y="script");var L=p.createElement(y);L.id=F,L.src=Q,L.async=!0,L.defer=!0;var z=document.getElementsByTagName("script")[0];u.current=L,z&&z.parentNode&&z.parentNode.insertBefore(L,z),L.onload=S},[]),i=t.useCallback(function(p){try{return fetch("https://api.amazon.com/user/profile",{headers:{Authorization:"Bearer "+p.access_token}}).then(function(y){return y.json()}).then(function(y){d({provider:"amazon",data:Y({},y,p)})}).catch(function(y){c(y)}).finally(function(){}),Promise.resolve()}catch(y){return Promise.reject(y)}},[c,d]),n=t.useCallback(function(p){g?d({provider:"amazon",data:Y({},p)}):i(p)},[i,d,g]),o=t.useCallback(function(p){c(p)},[c]),r=t.useCallback(function(){k()?_(!0):s(document,"script","amazon-login","https://assets.loginwithamazon.com/sdk/na/login1.js",function(){re.amazon.Login.setClientId(v),_(!0)})},[k,v,s]),h=t.useCallback(function(){N&&(re.amazon?(a&&a(),re.amazon.Login.authorize({scope:b,scope_data:R,response_type:I,redirect_uri:w,state:l},function(p){p.error?o(p.error):n(p)})):(r(),c("Google SDK isn't loaded!")))},[r,b,l,c,R,N,o,a,w,I,n]);return K.createElement("div",{className:E,onClick:h},A)});var ie=window,de=t.memo(function(e){var f=e.appId,l=e.scope,v=l===void 0?"email,public_profile":l,E=e.state,w=E===void 0||E,C=e.xfbml,b=C===void 0||C,T=e.cookie,g=T===void 0||T,j=e.version,R=j===void 0?"v2.7":j,P=e.language,I=P===void 0?"en_EN":P,A=e.auth_type,c=A===void 0?"":A,d=e.className,a=e.onLoginStart,u=e.onReject,m=e.onResolve,N=e.redirect_uri,_=e.fieldsProfile,k=_===void 0?"id,first_name,last_name,middle_name,name,name_format,picture,short_name,email,gender":_,s=e.response_type,i=s===void 0?"code":s,n=e.return_scopes,o=n===void 0||n,r=e.isOnlyGetToken,h=r!==void 0&&r,p=e.children,y=t.useRef(null),F=t.useState(!1),Q=F[0],S=F[1],L=t.useState(!1),z=L[0],x=L[1];t.useEffect(function(){!Q&&q()},[Q]),t.useEffect(function(){return function(){y.current&&y.current.remove()}},[]);var G=t.useCallback(function(U,D){var J=U.createElement("script");J.id="facebook-jssdk",J.src="https://connect.facebook.net/en_EN/sdk.js";var B=U.getElementsByTagName("script")[0];B&&B.parentNode&&B.parentNode.insertBefore(J,B),D()},[]),X=t.useCallback(function(){return!!document.getElementById("facebook-jssdk")},[]),V=t.useCallback(function(U,D){var J=window;J.fbAsyncInit=function(){J.FB&&J.FB.init(Y({},U)),S(!0);var B=D.getElementById("fb-root");B||((B=D.createElement("div")).id="fb-root",D.body.appendChild(B)),y.current=B}},[]),$=t.useCallback(function(U){ie.FB.api("/me",{locale:I,fields:k},function(D){m({provider:"facebook",data:Y({},U,D)})})},[k,I,m]),ee=t.useCallback(function(U){console.log("ðŸš€ ~ file: index.tsx:127 ~ response:",U),U.authResponse?h?m({provider:"facebook",data:Y({},U.authResponse)}):$(U.authResponse):u(U),x(!1)},[$,h,u,m]),q=t.useCallback(function(){X()?S(!0):G(document,function(){V({appId:f,xfbml:b,version:R,state:w,cookie:g,redirect_uri:N,response_type:i},document)})},[w,f,b,g,R,V,N,i,G,X]),Z=t.useCallback(function(){Q&&!z&&(ie.FB?(x(!0),a&&a(),ie.FB.login(ee,{scope:v,return_scopes:o,auth_type:c})):(q(),u("Fb isn't loaded!"),x(!1)))},[q,v,u,c,Q,a,z,o,ee]);return K.createElement("div",{className:d,onClick:Z},p)}),H="875c0462-6309-4ddf-9889-5227b1acc82c",oe=window;t.memo(function(e){var f=e.client_id,l=e.scope,v=l===void 0?"https://www.googleapis.com/auth/userinfo.profile":l,E=e.prompt,w=E===void 0?"select_account":E,C=e.typeResponse,b=C===void 0?"accessToken":C,T=e.ux_mode,g=e.className,j=g===void 0?"":g,R=e.login_hint,P=R===void 0?"":R,I=e.access_type,A=I===void 0?"online":I,c=e.onLoginStart,d=e.onReject,a=e.onResolve,u=e.redirect_uri,m=u===void 0?"/":u,N=e.auto_select,_=N!==void 0&&N,k=e.isOnlyGetToken,s=k!==void 0&&k,i=e.cookie_policy,n=i===void 0?"single_host_origin":i,o=e.hosted_domain,r=o===void 0?"":o,h=e.discoveryDocs,p=h===void 0?"":h,y=e.children,F=e.fetch_basic_profile,Q=F===void 0||F,S=t.useRef(null),L=t.useState(!1),z=L[0],x=L[1],G=t.useState(null),X=G[0],V=G[1];t.useEffect(function(){!z&&D()},[z]),t.useEffect(function(){return function(){S.current&&S.current.remove()}},[]);var $=t.useCallback(function(){return!!document.getElementById("google-login")},[]),ee=t.useCallback(function(B,M,O,te,se){M===void 0&&(M="script");var W=B.createElement(M);W.id=O,W.src=te,W.async=!0,W.defer=!0;var ne=document.getElementsByTagName("script")[0];S.current=W,ne&&ne.parentNode&&ne.parentNode.insertBefore(W,ne),W.onload=se},[]),q=t.useCallback(function(B){if(b==="accessToken"){var M=new Headers({"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":H,Authorization:"Bearer "+B.access_token});fetch("https://cors.bridged.cc/https://www.googleapis.com/oauth2/v3/userinfo?alt=json",{method:"GET",headers:M}).then(function(O){return O.json()}).then(function(O){var te=Y({},B,O);a({provider:"google",data:te})}).catch(function(O){d(O)})}else fetch("https://www.googleapis.com/oauth2/v3/tokeninfo?id_token="+B.credential,{method:"GET"}).then(function(O){return O.json()}).then(function(O){var te=Y({},B,O);a({provider:"google",data:te})}).catch(function(O){d(O)})},[b,d,a]),Z=t.useCallback(function(B){B&&A==="offline"||s?a({provider:"google",data:B}):q(B)},[A,s,q,a]),U=t.useCallback(function(B){d({provider:"google",data:B})},[d]),D=t.useCallback(function(){$()?x(!0):ee(document,"script","google-login","https://accounts.google.com/gsi/client",function(){var B={client_id:f,ux_mode:T},M=null;if(b==="idToken")oe.google.accounts.id.initialize(Y({},B,{auto_select:_,prompt:"select_account",login_uri:m,callback:Z,native_callback:Z,error_callback:U}));else{var O=Y({},B,{scope:v,prompt:w,login_hint:P,access_type:A,hosted_domain:r,redirect_uri:m,cookie_policy:n,discoveryDocs:p,immediate:!0,fetch_basic_profile:Q,callback:Z,error_callback:U});M=A==="offline"?oe.google.accounts.oauth2.initCodeClient(O):oe.google.accounts.oauth2.initTokenClient(O)}M&&V(M),x(!0)})},[v,w,T,f,P,_,A,m,b,p,n,r,Z,U,Q,ee,$]),J=t.useCallback(function(){z&&(oe.google?(c&&c(),X?A==="offline"?X.requestCode():X.requestAccessToken():oe.google.accounts.id.prompt()):(D(),d("Google SDK isn't loaded!")))},[A,X,z,D,c,d]);return K.createElement("div",{className:j,onClick:J},y)});t.memo(function(e){var f=e.state,l=f===void 0?"":f,v=e.scope,E=v===void 0?"repo,gist":v,w=e.client_id,C=e.client_secret,b=e.className,T=b===void 0?"":b,g=e.redirect_uri,j=e.allow_signup,R=j!==void 0&&j,P=e.isOnlyGetToken,I=P!==void 0&&P,A=e.isOnlyGetCode,c=A!==void 0&&A,d=e.children,a=e.onReject,u=e.onResolve,m=e.onLoginStart;t.useEffect(function(){var n=new URL(window.location.href),o=n.searchParams.get("code"),r=n.searchParams.get("state");r!=null&&r.includes("_github")&&o&&(localStorage.setItem("github",o),window.close())},[]);var N=t.useCallback(function(n){fetch("https://cors.bridged.cc/https://api.github.com//user",{method:"GET",headers:{Authorization:"token "+n.access_token,"x-cors-grida-api-key":H}}).then(function(o){return o.json()}).then(function(o){u({provider:"github",data:Y({},o,n)})}).catch(function(o){a(o)})},[a,u]),_=t.useCallback(function(n){if(c)u({provider:"github",data:{code:n}});else{var o={code:n,state:l,redirect_uri:g,client_id:w,client_secret:C},r=new Headers({"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":H});fetch("https://cors.bridged.cc/https://github.com/login/oauth/access_token",{method:"POST",headers:r,body:new URLSearchParams(o)}).then(function(h){return h.text()}).then(function(h){for(var p,y={},F=function(S,L){var z;if(typeof Symbol=="undefined"||S[Symbol.iterator]==null){if(Array.isArray(S)||(z=function(G,X){if(G){if(typeof G=="string")return ce(G,void 0);var V=Object.prototype.toString.call(G).slice(8,-1);return V==="Object"&&G.constructor&&(V=G.constructor.name),V==="Map"||V==="Set"?Array.from(G):V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V)?ce(G,void 0):void 0}}(S))){z&&(S=z);var x=0;return function(){return x>=S.length?{done:!0}:{done:!1,value:S[x++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(z=S[Symbol.iterator]()).next.bind(z)}(new URLSearchParams(h));!(p=F()).done;){var Q=p.value;y[Q[0]]=Q[1]}y.access_token?I?u({provider:"github",data:y}):N(y):a("no data")}).catch(function(h){a(h)})}},[l,a,N,u,w,g,C,c,I]),k=t.useCallback(function(n){var o=n.type,r=n.code,h=n.provider;try{return Promise.resolve(o==="code"&&h==="github"&&r&&_(r))}catch(p){return Promise.reject(p)}},[_]),s=t.useCallback(function(){window.removeEventListener("storage",s,!1);var n=localStorage.getItem("github");n&&(k({provider:"github",type:"code",code:n}),localStorage.removeItem("github"))},[k]),i=t.useCallback(function(){m&&m(),window.addEventListener("storage",s,!1);var n=window.screen.width/2-225,o=window.screen.height/2-365;window.open("https://github.com/login/oauth/authorize?client_id="+w+"&scope="+E+"&state="+l+"_github&redirect_uri="+g+"&allow_signup="+R,"Github","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+o+", left="+n)},[E,l,w,g,R,m,s]);return K.createElement("div",{className:T,onClick:i},d)});t.memo(function(e){var f=e.state,l=f===void 0?"":f,v=e.client_id,E=e.client_secret,w=e.className,C=e.redirect_uri,b=e.fields,T=b===void 0?"id,username,account_type,media_count":b,g=e.scope,j=g===void 0?"user_profile,user_media":g,R=e.response_type,P=R===void 0?"code":R,I=e.isOnlyGetCode,A=I!==void 0&&I,c=e.isOnlyGetToken,d=c!==void 0&&c,a=e.children,u=e.onReject,m=e.onResolve,N=e.onLoginStart;t.useEffect(function(){var o=new URL(window.location.href),r=o.searchParams.get("code"),h=o.searchParams.get("state");h!=null&&h.includes("_instagram")&&r&&(localStorage.setItem("instagram",r),window.close())},[]);var _=t.useCallback(function(o){fetch("https://cors.bridged.cc/https://graph.instagram.com//me?fields="+T+"&access_token="+o.access_token,{method:"GET",headers:{"x-cors-grida-api-key":H}}).then(function(r){return r.json()}).then(function(r){m({provider:"instagram",data:Y({},r,o)})}).catch(function(r){u(r)})},[T,u,m]),k=t.useCallback(function(o){if(A)m({provider:"instagram",data:{code:o}});else{var r={grant_type:"authorization_code",code:o,redirect_uri:C,client_id:v,client_secret:E},h=new Headers({"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":H});fetch("https://cors.bridged.cc/https://api.instagram.com/oauth/access_token",{method:"POST",headers:h,body:new URLSearchParams(r)}).then(function(p){return p.json()}).then(function(p){p.access_token?d?m({provider:"instagram",data:p}):_(p):u("no data")}).catch(function(p){u(p)}).finally(function(){})}},[u,m,_,v,C,E,A,d]),s=t.useCallback(function(o){var r=o.type,h=o.code,p=o.provider;try{return Promise.resolve(r==="code"&&p==="instagram"&&h&&k(h))}catch(y){return Promise.reject(y)}},[k]),i=t.useCallback(function(){window.removeEventListener("storage",i,!1);var o=localStorage.getItem("instagram");o&&(s({provider:"instagram",type:"code",code:o}),localStorage.removeItem("instagram"))},[s]),n=t.useCallback(function(){N&&N(),window.addEventListener("storage",i,!1);var o=window.screen.width/2-225,r=window.screen.height/2-365;window.open("https://api.instagram.com/oauth/authorize?response_type="+P+"&client_id="+v+"&scope="+j+"&state="+l+"_instagram&redirect_uri="+C,"Instagram","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+r+", left="+o)},[j,l,v,C,N,P,i]);return K.createElement("div",{className:w,onClick:n},a)});t.memo(function(e){var f=e.tenant,l=f===void 0?"common":f,v=e.state,E=v===void 0?"":v,w=e.client_id,C=e.className,b=e.redirect_uri,T=e.scope,g=T===void 0?"profile openid email":T,j=e.response_type,R=j===void 0?"code":j,P=e.response_mode,I=P===void 0?"query":P,A=e.children,c=e.code_challenge,d=c===void 0?"19cfc47c216dacba8ca23eeee817603e2ba34fe0976378662ba31688ed302fa9":c,a=e.code_challenge_method,u=a===void 0?"plain":a,m=e.prompt,N=m===void 0?"select_account":m,_=e.isOnlyGetCode,k=_!==void 0&&_,s=e.isOnlyGetToken,i=s!==void 0&&s,n=e.onLoginStart,o=e.onReject,r=e.onResolve;t.useEffect(function(){var S=new URL(window.location.href),L=S.searchParams.get("code"),z=S.searchParams.get("state");z!=null&&z.includes("_microsoft")&&L&&(localStorage.setItem("microsoft",L),window.close())},[]);var h=t.useCallback(function(S){fetch("https://graph.microsoft.com/v1.0/me",{method:"GET",headers:{Authorization:"Bearer "+S.access_token}}).then(function(L){return L.json()}).then(function(L){r({provider:"microsoft",data:Y({},L,S)})}).catch(function(L){o(L)})},[o,r]),p=t.useCallback(function(S){if(k)r({provider:"microsoft",data:{code:S}});else{var L={code:S,scope:g,client_id:w,redirect_uri:b,code_verifier:d,grant_type:"authorization_code"},z=new Headers({"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"});fetch("https://login.microsoftonline.com/"+l+"/oauth2/v2.0/token",{method:"POST",headers:z,body:new URLSearchParams(L)}).then(function(x){return x.json()}).then(function(x){x.access_token?i?r({provider:"microsoft",data:x}):h(x):o("no data")}).catch(function(x){o(x)})}},[g,l,o,h,w,r,b,d,k,i]),y=t.useCallback(function(S){var L=S.type,z=S.code,x=S.provider;try{return Promise.resolve(L==="code"&&x==="microsoft"&&z&&p(z))}catch(G){return Promise.reject(G)}},[p]),F=t.useCallback(function(){window.removeEventListener("storage",F,!1);var S=localStorage.getItem("microsoft");S&&(y({provider:"microsoft",type:"code",code:S}),localStorage.removeItem("microsoft"))},[y]),Q=t.useCallback(function(){n&&n(),window.addEventListener("storage",F,!1);var S=window.screen.width/2-225,L=window.screen.height/2-365;window.open("https://login.microsoftonline.com/"+l+"/oauth2/v2.0/authorize?client_id="+w+`
        &response_type=`+R+`
        &redirect_uri=`+b+`
        &response_mode=`+I+`
        &scope=`+g+`
        &state=`+E+`_microsoft
        &prompt=`+N+`
        &code_challenge=`+d+`
        &code_challenge_method=`+u,"Microsoft","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+L+", left="+S)},[g,E,N,l,w,n,b,I,R,d,F,u]);return K.createElement("div",{className:C,onClick:Q},A)});t.memo(function(e){var f=e.state,l=f===void 0?"":f,v=e.scope,E=v===void 0?"r_liteprofile":v,w=e.client_id,C=e.client_secret,b=e.className,T=b===void 0?"":b,g=e.redirect_uri,j=e.response_type,R=j===void 0?"code":j,P=e.isOnlyGetCode,I=P!==void 0&&P,A=e.isOnlyGetToken,c=A!==void 0&&A,d=e.children,a=e.onLoginStart,u=e.onReject,m=e.onResolve;t.useEffect(function(){var n=new URL(window.location.href),o=n.searchParams.get("code"),r=n.searchParams.get("state");r!=null&&r.includes("_linkedin")&&o&&(localStorage.setItem("linkedin",o),window.close())},[]);var N=t.useCallback(function(n){fetch("https://api.allorigins.win/get?url="+encodeURIComponent("https://api.linkedin.com/v2/me?oauth2_access_token="+n.access_token+"&projection=(id,profilePicture(displayImage~digitalmediaAsset:playableStreams),localizedLastName, firstName,lastName,localizedFirstName)"),{method:"GET"}).then(function(o){return o.json()}).then(function(o){var r=Y({},n);if(o.contents){var h=JSON.parse(o.contents);typeof n=="object"&&Object.entries(h).map(function(p){r[p[0]]=p[1]})}m({provider:"linkedin",data:r})}).catch(function(o){u(o)})},[u,m]),_=t.useCallback(function(n){if(I)m({provider:"linkedin",data:{code:n}});else{var o={code:n,grant_type:"authorization_code",redirect_uri:g,client_id:w,client_secret:C},r=new Headers({"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":H});fetch("https://cors.bridged.cc/https://www.linkedin.com/oauth/v2/accessToken",{method:"POST",headers:r,body:new URLSearchParams(o)}).then(function(h){return h.json()}).then(function(h){c?m({provider:"linkedin",data:h}):N(h)}).catch(function(h){u(h)})}},[u,m,w,N,g,C,I,c]),k=t.useCallback(function(n){var o=n.type,r=n.code,h=n.provider;try{return Promise.resolve(o==="code"&&h==="linkedin"&&r&&_(r))}catch(p){return Promise.reject(p)}},[_]),s=t.useCallback(function(){window.removeEventListener("storage",s,!1);var n=localStorage.getItem("linkedin");n&&(k({provider:"linkedin",type:"code",code:n}),localStorage.removeItem("linkedin"))},[k]),i=t.useCallback(function(){a&&a(),window.addEventListener("storage",s,!1);var n=window.screen.width/2-225,o=window.screen.height/2-365;window.open("https://www.linkedin.com/oauth/v2/authorization?response_type="+R+"&client_id="+w+"&scope="+E+"&state="+l+"_linkedin&redirect_uri="+g,"Linkedin","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+o+", left="+n)},[a,s,R,w,E,l,g]);return K.createElement("div",{className:T,onClick:i},d)});t.memo(function(e){var f=e.state,l=f===void 0?"":f,v=e.scope,E=v===void 0?"boards:read,pins:read,user_accounts:read":v,w=e.client_id,C=e.client_secret,b=e.className,T=b===void 0?"":b,g=e.redirect_uri,j=e.isOnlyGetCode,R=j!==void 0&&j,P=e.isOnlyGetToken,I=P!==void 0&&P,A=e.children,c=e.onLoginStart,d=e.onReject,a=e.onResolve;t.useEffect(function(){var s=new URL(window.location.href),i=s.searchParams.get("code"),n=s.searchParams.get("state");n!=null&&n.includes("_pinterest")&&i&&(localStorage.setItem("pinterest",i),window.close())},[]);var u=t.useCallback(function(s){fetch("https://cors.bridged.cc/https://api.pinterest.com/v5/user_account",{method:"GET",headers:{Authorization:"Bearer "+s.access_token,"x-cors-grida-api-key":H}}).then(function(i){return i.json()}).then(function(i){a({provider:"pinterest",data:Y({},s,i)})}).catch(function(i){return d(i)})},[d,a]),m=t.useCallback(function(s){try{var i=function(){if(!R){var n={code:s,redirect_uri:g,grant_type:"authorization_code"},o=[];for(var r in n){var h=encodeURIComponent(r),p=encodeURIComponent(n[r]);o.push(h+"="+p)}return o=o.join("&"),Promise.resolve(fetch("https://cors.bridged.cc/https://api.pinterest.com/v5/oauth/token",{method:"POST",headers:{Authorization:"Basic "+btoa(w+":"+C),"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":H},body:o}).then(function(y){return y.json()}).catch(function(y){return d(y)})).then(function(y){y.access_token&&(I?a({provider:"pinterest",data:y}):u(y))})}a({provider:"pinterest",data:{code:s}})}();return Promise.resolve(i&&i.then?i.then(function(){}):void 0)}catch(n){return Promise.reject(n)}},[d,w,u,a,g,C,R,I]),N=t.useCallback(function(s){var i=s.type,n=s.code,o=s.provider;try{return Promise.resolve(i==="code"&&o==="pinterest"&&n&&m(n))}catch(r){return Promise.reject(r)}},[m]),_=t.useCallback(function(){window.removeEventListener("storage",_,!1);var s=localStorage.getItem("pinterest");s&&(N({provider:"pinterest",type:"code",code:s}),localStorage.removeItem("pinterest"))},[N]),k=t.useCallback(function(){c&&c(),window.addEventListener("storage",_,!1);var s=window.screen.width/2-225,i=window.screen.height/2-365;window.open("https://www.pinterest.com/oauth/?client_id="+w+"&scope="+E+"&state="+l+"_pinterest&redirect_uri="+g+"&response_type=code","Pinterest","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+i+", left="+s)},[E,l,w,g,c,_]);return K.createElement("div",{className:T,onClick:k},A)});t.memo(function(e){var f=e.client_id,l=e.className,v=l===void 0?"":l,E=e.redirect_uri,w=e.children,C=e.fields,b=C===void 0?"created_at,description,entities,id,location,name,pinned_tweet_id,profile_image_url,protected,public_metrics,url,username,verified,withheld":C,T=e.state,g=T===void 0?"state":T,j=e.scope,R=j===void 0?"users.read%20tweet.read":j,P=e.isOnlyGetCode,I=P!==void 0&&P,A=e.isOnlyGetToken,c=A!==void 0&&A,d=e.onLoginStart,a=e.onReject,u=e.onResolve;t.useEffect(function(){var i=new URL(window.location.href),n=i.searchParams.get("code");i.searchParams.get("state")&&n&&(localStorage.setItem("twitter",""+n),window.close())},[]);var m=t.useCallback(function(i){fetch("https://cors.bridged.cc/https://api.twitter.com/2/users/me?user.fields="+b,{method:"GET",headers:{Authorization:"Bearer "+i.access_token,"x-cors-grida-api-key":H}}).then(function(n){return n.json()}).then(function(n){u({provider:"twitter",data:Y({},i,n.data)})}).catch(function(n){return a(n)})},[b,a,u]),N=t.useCallback(function(i){try{var n=function(){if(!I){var o=new URLSearchParams({code:i,redirect_uri:E,client_id:f,grant_type:"authorization_code",code_verifier:"challenge"});return Promise.resolve(fetch("https://cors.bridged.cc/https://api.twitter.com/2/oauth2/token",{method:"POST",body:o,headers:{"Content-Type":"application/x-www-form-urlencoded","x-cors-grida-api-key":H}}).then(function(r){return r.json()}).catch(function(r){return a(r)})).then(function(r){r.access_token&&(c?u({provider:"twitter",data:r}):m(r))})}u({provider:"twitter",data:{code:i}})}();return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(o){return Promise.reject(o)}},[a,m,u,f,E,I,c]),_=t.useCallback(function(i){var n=i.type,o=i.code,r=i.provider;try{return Promise.resolve(n==="code"&&r==="twitter"&&o&&N(o))}catch(h){return Promise.reject(h)}},[N]),k=t.useCallback(function(){window.removeEventListener("storage",k,!1);var i=localStorage.getItem("twitter");i&&(_({provider:"twitter",type:"code",code:i}),localStorage.removeItem("twitter"))},[_]),s=t.useCallback(function(){try{d&&d(),window.addEventListener("storage",k,!1);var i=window.screen.width/2-225,n=window.screen.height/2-365;return window.open("https://twitter.com/i/oauth2/authorize?response_type=code&client_id="+f+"&redirect_uri="+E+"&scope="+R+"&state="+g+"&code_challenge=challenge&code_challenge_method=plain","twitter","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+n+", left="+i),Promise.resolve()}catch(o){return Promise.reject(o)}},[R,g,f,d,E,k]);return K.createElement("div",{className:v,onClick:s},w)});typeof Symbol!="undefined"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),typeof Symbol!="undefined"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var ae=window,ue=t.memo(function(e){var f=e.client_id,l=e.scope,v=l===void 0?"name email":l,E=e.className,w=E===void 0?"":E,C=e.onLoginStart,b=e.onReject,T=e.onResolve,g=e.redirect_uri,j=g===void 0?"/":g,R=e.children,P=t.useRef(null),I=t.useState(!1),A=I[0],c=I[1];t.useEffect(function(){!A&&m()},[A]),t.useEffect(function(){return function(){P.current&&P.current.remove()}},[]);var d=t.useCallback(function(){return!!document.getElementById("apple-login")},[]),a=t.useCallback(function(_,k,s,i,n){k===void 0&&(k="script");var o=_.createElement(k);o.id=s,o.src=i,o.async=!0,o.defer=!0;var r=document.getElementsByTagName("script")[0];P.current=o,r&&r.parentNode&&r.parentNode.insertBefore(o,r),o.onload=n},[]),u=t.useCallback(function(_){T({provider:"apple",data:_})},[T]),m=t.useCallback(function(){d()?c(!0):a(document,"script","apple-login","https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js",function(){ae.AppleID.auth.init({clientId:f,scope:v,redirectURI:j,state:"origin:web",usePopup:!0}),c(!0)})},[v,f,j,a,d]),N=t.useCallback(function(){try{if(!A)return Promise.resolve();var _=function(){if(ae.AppleID){C&&C();var k=function(s,i){try{var n=Promise.resolve(ae.AppleID.auth.signIn()).then(function(o){u(o)})}catch(o){return i(o)}return n&&n.then?n.then(void 0,i):n}(0,function(s){b({err:s})});if(k&&k.then)return k.then(function(){})}else m(),b("Apple SDK isn't loaded!")}();return Promise.resolve(_&&_.then?_.then(function(){}):void 0)}catch(k){return Promise.reject(k)}},[u,A,m,C,b]);return K.createElement("div",{className:w,onClick:N},R)});t.memo(function(e){var f=e.state,l=f===void 0?"":f,v=e.scope,E=v===void 0?"user.info.basic":v,w=e.client_key,C=e.className,b=C===void 0?"":C,T=e.redirect_uri,g=e.children,j=e.onResolve,R=e.onLoginStart;t.useEffect(function(){var c=new URL(window.location.href),d=c.searchParams.get("code"),a=c.searchParams.get("state");a!=null&&a.includes("_tiktok")&&d&&(localStorage.setItem("tiktok",d),window.close())},[]);var P=t.useCallback(function(c){var d=c.type,a=c.code,u=c.provider;try{return Promise.resolve(d==="code"&&u==="tiktok"&&a&&j({provider:"tiktok",data:{code:a}}))}catch(m){return Promise.reject(m)}},[j]),I=t.useCallback(function(){window.removeEventListener("storage",I,!1);var c=localStorage.getItem("tiktok");c&&(P({provider:"tiktok",type:"code",code:c}),localStorage.removeItem("instagram"))},[P]),A=t.useCallback(function(){R&&R(),window.addEventListener("storage",I,!1);var c=window.screen.width/2-225,d=window.screen.height/2-365;window.open("https://www.tiktok.com/auth/authorize?client_key="+w+"&scope="+E+"&state="+l+"_tiktok&redirect_uri="+T+"&response_type=code","Github","menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=450, height=730, top="+d+", left="+c)},[E,l,w,T,R,I]);return K.createElement("div",{className:b,onClick:A},g)});const fe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJZSURBVHgBrVRNTBNBFH5v3BZC1JaA0RCw25hob64/By+ErcVETvamnmgPXiQG8ORBEwncNKE9eTK7jZdyAk9NTAk9KhBST6CJaROjRIxm1WpbLTO+XVLobmmLyJfsTubNe9/M996bQWiA3MWAKgEMABMKAlNMmxAiLwDym8if+xffzu0Wh07DuhKQKy7QAFGFJjCJaYeJk0trekNC61TIZgGFF/YIzvm4b/lNrDqXbGQMF6y99wjzlFxCm3Rm/kyZLoZaXQCiTjkMVjqKnX2Lqygx4ac8RknWVi5pzf9yLV8bY0neGDmhl5c6h21kFOjMTxXrlwJyiUYnmUVYTIGMbsj9TB+DX/PdW0YO473LqzHYD4ovIFKaB2F+hWft4uPQqRz8B6iooGxPekrgvfsuDql6x+sP0nMIeLYpm+AJiZLrre0dgdRfu4B8PDTI0AzIfAwOGIx2NmwGsZOC/UAiidmq5JWyFx59OTMA8KrOMTk5GHTabt5Px6hXR6tzwflr1s7A7HRj5nsfjHy6APnKYVV5enkMWuDGvZRMZNdqbUiHYxgE4/bG+XjMOL2zwHC6GWl4bNaLLvc01BYJMZ+cupKx1CqaSpU+ZPaf7VEQIHSo8ET2ViZj+T1RZXCzcNtm1+jxz0NyR8lX6x5NTob07Y5RtEEVQSzAP6D7az90Gf10TSE+MxWyFNmeL0ULhclgl9ICnsK5RObO40h1XvfAKtpVGcWfh7Qy3ILLoJszsRJN2+48NvI2iYH/jlDlVE/bUflb+QdZBfWsyPYe6cm+L3zQs9GM4Yz7C+P81H9nb+5pAAAAAElFTkSuQmCC",pe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAH0SURBVHgBrVTPTxNBFP7e25UCJm33ophgLPwDkph44KL/gRBDvFYPnutBeqS9UdSAVy5t4tlYTl44cDCaeMJErmQJiVQuS9FYIe48Z6ah6S7bJfz4LjPv1zffzHu7hATkS0F+ZAhFBecBkUwBVOhGxBehTZJwrfXKayTVUtxxYz6YcYjrAsojFeJDqWqcmPuNW+X2MpPz4Wwyq6UAdupj8+2FREIT0ESlNIrsMGHci12KqHKz/Gu5Z1qyl0HRnDaI6LbHWJnLYHrS7flerx/hzfpxz1YSzu4vec1uBvNCGtn756N6JaSB4NR1Mzdcqw5UGJQ4PelEyD5u/cNuoPBlO4wSEvKZIS66xDwjGIzxGNmzd53ByYKHpil3kAJz5RNs7YVpqSCmu6w7O4WrQ4HGyoeSpOpr+Xpq5ePVP/i8fVoxQ2QHF8D3HyrJ7bu6O5uS8I67QVd4bqQ70AaHfwVt3ZN2R+w+DlHyzdWd2dBD9ChKpnC/9tvuV+aG8eTeNbtf/XQcGeY4yKEmZ0ZVQ59/gMvDby1mG+xXvANI+BSXBaFqFjtke/obJMhbXBQkVaOuR2hJa7mSCeCcEC2ktZirnNiR/6ENEMz1/bOIzLsrwexPI6QPHE800lu17IQh1kVrLvfPqewYH4m86ByFE/tL2Wa8/j+jGrIPP3CywQAAAABJRU5ErkJggg==",me="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAUCAYAAACAl21KAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADKSURBVHgBpZTdDYMgFIVP2gUYgW7gYx8dwREYwU10gzpCN9BO4AikEzhCC+WSUkKN93KSExXI5/1T4LiU8+i8oULa2Tq/nFdUaCKIt0GFNoJMYEoj1CTK16altYb2d9Unb/eeEVLp6D7ds/iT5pAc4rhPIUYIWbMSfBa4EJvXSgmjuaWQUx4aQ88cJFUxAElqxW9uFsKGCDjT9YIwuVxdETr3iAvSzsUx+NEoBJkcpPD953Amu6iWmZLGjjo65Nt7p+eGUlgIsuSQN7FepiYGnifXAAAAAElFTkSuQmCC";export{pe as a,ue as b,me as c,fe as i,de as u};
