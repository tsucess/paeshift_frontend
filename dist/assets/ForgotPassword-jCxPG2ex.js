var k=Object.defineProperty,R=Object.defineProperties;var V=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var w=(o,s,r)=>s in o?k(o,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[s]=r,x=(o,s)=>{for(var r in s||(s={}))U.call(s,r)&&w(o,r,s[r]);if(b)for(var r of b(s))y.call(s,r)&&w(o,r,s[r]);return o},D=(o,s)=>R(o,V(s));var _=(o,s,r)=>new Promise((f,c)=>{var p=n=>{try{l(r.next(n))}catch(t){c(t)}},N=n=>{try{l(r.throw(n))}catch(t){c(t)}},l=n=>n.done?f(n.value):Promise.resolve(n.value).then(p,N);l((r=r.apply(o,s)).next())});import{j as e}from"./index-DzfYAV6B.js";import{u as L,r as u,L as S}from"./router-vendor-nz_fvPt4.js";import{l as T}from"./logo-sm-CwMTbstP.js";import{F as H,f as I}from"./icon-vendor-Y_MkwwPz.js";import{L as q,y as P,l as C}from"./notification-vendor-CcIVbC0l.js";import{a as B}from"./index-Cfc3znND.js";import"./react-vendor-DCaiJ6vv.js";import"./query-vendor-VOXR0irk.js";import"./ui-vendor-DQeT9Y3U.js";const X=()=>{let o=L();const[s,r]=u.useState({email:""});let[f,c]=u.useState("password"),[p,N]=u.useState("");const l=/^[^\s@]+@[^\s@]+\.[^\s@]{2,6}$/,n=a=>P.success(a,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",transition:C}),t=a=>P.error(a,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light",transition:C});function F(a){const d=D(x({},s),{[a.target.name]:a.target.value});r(d)}function E(a){return _(this,null,function*(){var h,g,v;a.preventDefault();let d={email:s.email};if(d.email===""){t("Email is Required");return}else if(!l.test(d.email)){t("Invalid email address");return}try{const i=a.target.querySelector('button[type="submit"]'),m=i.innerHTML;i.innerHTML="Sending...",i.disabled=!0;const j=yield B.post("http://127.0.0.1:8000/accountsapp/request-password-reset",{email:s.email});i.innerHTML=m,i.disabled=!1,j.data.message?(n("Password reset instructions sent to your email"),setTimeout(()=>{o("/verify",{state:{email:s.email,verificationType:"password_reset"}})},2e3)):t(j.data.error||"Failed to send password reset email")}catch(i){console.error("Password reset error:",i);const m=a.target.querySelector('button[type="submit"]');m&&(m.innerHTML="Continue",m.disabled=!1),(g=(h=i.response)==null?void 0:h.data)!=null&&g.error?t(i.response.data.error):((v=i.response)==null?void 0:v.status)===404?t("Email not found. Please check your email or create a new account."):t("Failed to send password reset email. Please try again later.")}})}return e.jsxDEV("div",{className:"row m-0 px-2 forgot_wrapper animate__animated animate__fadeIn",children:e.jsxDEV("div",{className:"col-12 col-md-4 main-card animate__animated animate__zoomIn",children:[e.jsxDEV("div",{className:"col-12 bg-card-2"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/ForgotPassword.jsx",lineNumber:127,columnNumber:17},void 0),e.jsxDEV("div",{className:"col-12 bg-card-3"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/ForgotPassword.jsx",lineNumber:128,columnNumber:17},void 0),e.jsxDEV("div",{className:"bg-card",children:[e.jsxDEV("div",{children:e.jsxDEV(q,{},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/ForgotPassword.jsx",lineNumber:131,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/ForgotPassword.jsx",lineNumber:130,columnNumber:21},void 0),e.jsxDEV("div",{className:"row",children:[e.jsxDEV("div",{className:"col-3",children:e.jsxDEV(S,{to:"/signin",className:"text-dark",children:e.jsxDEV(H,{icon:I},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/ForgotPassword.jsx",lineNumber:136,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/ForgotPassword.jsx",lineNumber:135,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/ForgotPassword.jsx",lineNumber:134,columnNumber:25},void 0),e.jsxDEV("div",{className:"col-6 text-center",children:e.jsxDEV("img",{src:T,className:"brand-logo ms-2",alt:"Paeshift logo"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/ForgotPassword.jsx",lineNumber:140,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/ForgotPassword.jsx",lineNumber:139,columnNumber:25},void 0),e.jsxDEV("div",{className:"col-3"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/ForgotPassword.jsx",lineNumber:142,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/ForgotPassword.jsx",lineNumber:133,columnNumber:21},void 0),e.jsxDEV("div",{className:"row content",children:e.jsxDEV("div",{className:"col-12",children:[e.jsxDEV("div",{className:"title",children:[e.jsxDEV("h3",{children:"Forgot Password"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/ForgotPassword.jsx",lineNumber:147,columnNumber:33},void 0),e.jsxDEV("p",{children:"To reset your password, Please enter your registered email address"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/ForgotPassword.jsx",lineNumber:148,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/ForgotPassword.jsx",lineNumber:146,columnNumber:29},void 0),e.jsxDEV("form",{className:"forgot_form",onSubmit:E,children:[e.jsxDEV("div",{className:"mb-2",children:[e.jsxDEV("label",{htmlFor:"email",className:"form-label mb-0",children:"Email"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/ForgotPassword.jsx",lineNumber:152,columnNumber:37},void 0),e.jsxDEV("input",{type:"email",className:"form-control",name:"email",id:"email",placeholder:"Enter your email address",onChange:F},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/ForgotPassword.jsx",lineNumber:153,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/ForgotPassword.jsx",lineNumber:151,columnNumber:33},void 0),e.jsxDEV("button",{type:"submit",name:"submit",className:"btn primary-btn w-100 mt-2",children:"Continue"},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/ForgotPassword.jsx",lineNumber:155,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/ForgotPassword.jsx",lineNumber:150,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/ForgotPassword.jsx",lineNumber:145,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/ForgotPassword.jsx",lineNumber:144,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/ForgotPassword.jsx",lineNumber:129,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/ForgotPassword.jsx",lineNumber:126,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Rise Networks/Documents/paeshift_project/paeshift-frontend/src/pages/ForgotPassword.jsx",lineNumber:125,columnNumber:9},void 0)};export{X as default};
